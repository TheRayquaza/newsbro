name: srvc-inference (SBERT)
on:
  push:
    branches: ["**"]
    paths:
      - 'apps/srvc-inference/sbert/**'
    tags-ignore:
      - '**'
  push:
    tags:
      - 'srvc-inference-sbert-v*.*.*'
    paths:
      - 'apps/srvc-inference/sbert/**'

permissions:
  write-all

jobs:
  call-template:
    uses: ./.github/workflows/python-svc-workflow.yaml
    with:
      service_name: srvc-inference-sbert
      dockerfile: ./docker/srvc-inference.Dockerfile
      context_root: apps/srvc-inference
      model_name: sbert
    secrets:
      GHCR_TOKEN: ${{ secrets.GITHUB_TOKEN }}
