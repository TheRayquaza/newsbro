name: srvc-inference (TF-IDF)

on:
  push:
    branches: ["**"]
    paths:
      - "apps/srvc-inference/tf_idf/**"
    tags:
      - "srvc-inference-tf_idf-v*.*.*"

permissions:
  write-all

jobs:
  srvc-inference-sbert:
    uses: ./.github/workflows/python-svc-workflow.yaml
    with:
      service_name: srvc-inference-sbert
      dockerfile: ./docker/srvc-inference.Dockerfile
      context_root: apps/srvc-inference
      model_name: sbert
    secrets:
      GHCR_TOKEN: ${{ secrets.GITHUB_TOKEN }}
